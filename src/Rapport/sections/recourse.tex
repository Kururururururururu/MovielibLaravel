\section{Resource Management}


In connection with the creation of the movie library, we have chosen to benefit from resource management.
We are using two types of resource management: One for the TMDB API and one for the database.
The TMDB API is used for fetching movie data, while the database is used for storing users, their watchlists, comments, and ratings.

A technical description of the resource management is provided in the following subsections.
\newline
\textbf{API Routes:}
The routes for the API are defined in the \texttt{routes/api.php} file and define how the system interacts with the API to fetch the movie data. The TMDB API routes are used for fetching the movie data, such as the movie title, description, poster, cast, and so on, to display on various occasions within the website. Where our own internal API is used for various movie specific CRUD operations within the application. 
The internal and external API use HTTP GET, POST and DELETE requests to fetch a more specific response, and is capable of fetching: \newline\newline
\textit{TMDB API} 
\textbf{\newline GET Sorted list of movies for a specific page:}
\begin{description}
    \item[Endpoint:] '/popular\_movies/\{page\}/\{sort\}'
    \item[Parameters:] \textit{page} and \textit{sort}
    \item[Description:] This endpoint is used for fetching a list of movies, sorted by a specific parameter, for a specific page. The endpoint returns a list of movies, hereunder the movie title, description, poster, cast, etc.
\end{description} 
\textbf{GET a specific movie:}
\begin{description}
    \item [Endpoint:] '/movie/\{id\}'
    \item [Parameters:] \textit{id}
    \item [Description:] This endpoint is used for fetching a specific movie and its data. The endpoint returns a specific movie, hereunder the movie title, description, poster, cast information, etc.
\end{description} 
\textbf{GET All genres:}
\begin{description}
    \item [Endpoint:] '/genres'
    \item [Parameters:] None
    \item [Description:] This endpoint is used for fetching all genres. The endpoint returns a list of genres, hereunder the genre id and name.
\end{description}

\textit{Internal API}
\textbf{\newline GET comments for a Movie:}
\begin{description}
    \item [Endpoint:] '/movie/\{id\}/comments'
    \item [Parameters:] \textit{id}
    \item [Description:] This endpoint is used for fetching all comments for a specific movie. The endpoint returns a list of comments, hereunder the comment id, user id, movie id, time, etc.
\end{description}
\textbf{POST or DELETE a Movie from watchlist:}
\begin{description}
    \item [Endpoint:] '/movie/\{id\}/watchlist'
    \item [Parameters:] \textit{id}
    \item [Description:] This endpoint is used for adding or removing a movie from a user's watchlist.
\end{description}

\textbf{Database Tables:}
The database tables are defined in the \texttt{database/migrations} folder and define the structure of the database. The database is used for storing the user's watchlist, comments, and ratings within the application.

\textbf{CRUD Operations:}
The CRUD operations are defined in the \texttt{app/Http/Controllers} folder and define how the system interacts with the database.
\textbf{The CRUD operations are used for:}
\begin{itemize}
    \item \textit{C}reating a new user, adding to the user's watchlist and adding the user's comments and ratings on movies.
    \item \textit{R}eading the user's watchlist, comments, and ratings.
    \item \textit{U}pdating is not used by any functions.
    \item \textit{D}eleting movies from a user's watchlist.
\end{itemize}
